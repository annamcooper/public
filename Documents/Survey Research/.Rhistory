l1 <- list(q = 'q1', lab = c("Strongly agree", "Agree", "Neutral", "Disagree", "Strongly disagree"), wgt = 'weights')
colnames(df)[colnames(df)=="in.which.industry.do.you.primarily.work."] <- "q32"
colnames(df)[colnames(df)=="office.please.describe.your.work.location.â..check.all.that.apply."] <- "q33"
colnames(df)[colnames(df)=="call.center.please.describe.your.work.location.â..check.all.that.apply."] <- "q34"
colnames(df)[colnames(df)=="newsroom.please.describe.your.work.location.â..check.all.that.apply."] <- "q35"
colnames(df)[colnames(df)=="retail.store.please.describe.your.work.location.â..check.all.that.apply."] <- "q36"
colnames(df)[colnames(df)=="work.at.remote.sites.in.the.field.or.from.my.vehicle.please.describe.your.work.location.â..check.all.that.apply."] <- "q37"
colnames(df)[colnames(df)=="based.from.my.home.please.describe.your.work.location.â..check.all.that.apply."] <- "q38"
colnames(df)[colnames(df)=="airport.or.airplane.please.describe.your.work.location.â..check.all.that.apply."] <- "q39"
colnames(df)[colnames(df)=="plant.or.manufacturing.site.please.describe.your.work.location.â..check.all.that.apply."] <- "q40"
colnames(df)[colnames(df)=="other...write.in.please.describe.your.work.location.â..check.all.that.apply."] <- "q41"
colnames(df)[colnames(df)=="do.you.visit.homes.of.customers.or.clients.on.the.job."] <- "q42"
colnames(dfhome)[colnames(dfhome)=="if.yes..have.you.had.an.experience.in.the.last.year.where.you.feared.for.your.safety..been.touched.or.grabbed..experienced.unwanted.advances..harassed.verbally..or.experienced.another.form.of.sexual.harassment.in.a.customer.s.or.client.s.home."] <- "q43"
colnames(dfhome)[colnames(dfhome)=="have.you.received.training.from.your.employer.on.protecting.yourself.from.difficult.or.inappropriate.situations.in.customer.s.or.client.s.homes."] <- "q44"
colnames(df)[colnames(df)=="more.or.better.training.on.how.to.understand.the.existing.sexual.harassment.policy.and.reporting.procedure.at.your.workplace.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."] <- "q45"
colnames(df)[colnames(df)=="bystander.training.on.how.to.intervene.as.a.witness.of.sexual.harassment.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."] <- "q46"
colnames(df)[colnames(df)=="advocating.for.a.better.sexual.harassment.policy.at.your.workplace.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."] <- "q47"
colnames(df)[colnames(df)=="assisting.and.supporting.victims.of.sexual.harassment.to.address.the.issue.and.achieve.a.desired.outcome.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."] <- "q48"
colnames(df)[colnames(df)=="addressing.issues.of.sexual.harassment.within.your.local..which.could.include.creating.or.improving.a.sexual.harassment.policy.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."] <- "q49"
knitr::opts_chunk$set(echo = TRUE)
remove(list=objects())
gc()
setwd("C:/Users/acooper.CWA-UNION/Documents/Survey Research")
options( java.parameters = "-Xmx6g" )
options(scipen=999)
require(survey)
require(Hmisc)
require(plyr)
require(ggplot2)
require(sjPlot)
style <- list(css.table='font-family : Roboto', css.thead="border-top:1px solid; text-align:center; font-style:italic; font-weight:normal;"
, css.lasttablerow="border-bottom:1px solid;")
df <- read.csv('sh_july2018_weighted_final_v3_20180726.csv', header=T, na.strings = "")
dfh <- df[df$â..have.you.personally.experienced.any.of.the.following.harassments.at.your.current.job.or.workplace.within.the.last.year...verbal.harassment.of.a.sexual.nature..unwanted.touching.or.physical.contact..cyber.harassment..including.unwanted.comments.or.photos.shared.via.email..social.media..or.text...unwelcome.sexual.advances.or.requests.for.sexual.favors..physical.acts.of.sexual.assault..homophobic.or.transphobic.comments.or.behavior..sexism.or.gender.based.discrimination..other.forms.of.sexual.harassment.=="Yes",]
dfhome <- df[df$do.you.visit.homes.of.customers.or.clients.on.the.job.=="Yes" & !is.na(df$do.you.visit.homes.of.customers.or.clients.on.the.job.),]
weights <- df$weights
radtab <- function(v1, v2, lab1, lab2, weights, v1name, v2name){
t <- sjt.xtab(v1, v2, weight.by = weights, show.col.prc = T, show.obs = T, digits=1 ,
#title="YOLO SWAG XTABS"
tdcol.col = "000000", var.labels = c(v1name,v2name), value.labels = list(lab1, lab2)
, show.summary = FALSE
, CSS = style
, show.na = TRUE)
return(t)
}
l <- list()
for (i in list(l1)){
for (p in list(lgender, lrace, lage)){
z <- radtab(df[,i$q], df[,p$q], i$lab, p$lab, df[,i$wgt], i$q, p$q)
l <- c(l, z$knitr)
}
}
colnames(df)[colnames(df)=="would.you.agree.or.disagree.that.sexual.harassment.is.an.issue.in.your.workplace."] <- "q1"
colnames(df)[colnames(df)=="how.satisfied.are.you.with.the.sexual.harassment.policy.and.procedures.at.your.workplace."]
colnames(df)[colnames(df)=="â..have.you.personally.experienced.any.of.the.following.harassments.at.your.current.job.or.workplace.within.the.last.year...verbal.harassment.of.a.sexual.nature..unwanted.touching.or.physical.contact..cyber.harassment..including.unwanted.comments.or.photos.shared.via.email..social.media..or.text...unwelcome.sexual.advances.or.requests.for.sexual.favors..physical.acts.of.sexual.assault..homophobic.or.transphobic.comments.or.behavior..sexism.or.gender.based.discrimination..other.forms.of.sexual.harassment."]  <-"q3"
colnames(df)[colnames(df)=="have.you.witnessed.any.of.the.following.harassments.a.bystander.at.your.current.job.or.workplace.within.the.last.year...verbal.harassment.of.a.sexual.nature..unwanted.touching.or.physical.contact..cyber.harassment..including.unwanted.comments.or.photos.shared.via.email..social.media..or.text...unwelcome.sexual.advances.or.requests.for.sexual.favors..physical.acts.of.sexual.assault..homophobic.or.transphobic.comments.or.behavior..sexism.or.gender.based.discrimination..other.forms.of.sexual.harassment."]<-"q4"
colnames(df)[colnames(df)=="how.often.do.you.experience.or.witness.sexual.harassment.at.your.workplace."]  <-"q5"
colnames(df)[colnames(df)=="a.direct.supervisor.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q6"
colnames(df)[colnames(df)=="someone.in.a.more.senior.role.who.is.not.a.direct.supervisor.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q7"
colnames(df)[colnames(df)=="another.union.represented.employee.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q8"
colnames(df)[colnames(df)=="a.steward..representative..or.leader.of.my.union.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q9"
colnames(df)[colnames(df)=="a.contractor.hired.by.my.employer.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q10"
colnames(df)[colnames(df)=="a.more.junior.employee.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q11"
colnames(df)[colnames(df)=="a.customer.of.my.employer.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q12"
colnames(df)[colnames(df)=="other...write.in.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q13"
colnames(df)[colnames(df)=="exclusive...none.of.the.above.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q14"
colnames(dfh)[colnames(dfh)=="reported"]  <-"q15"
colnames(dfh)[colnames(dfh)=="yes..to.a.steward.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]  q1<-"q16"
colnames(dfh)[colnames(dfh)=="yes..to.a.steward.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]<-"q16"
colnames(df)[colnames(df)=="would.you.agree.or.disagree.that.sexual.harassment.is.an.issue.in.your.workplace."] <- "q1"
colnames(df)[colnames(df)=="how.satisfied.are.you.with.the.sexual.harassment.policy.and.procedures.at.your.workplace."]
colnames(df)[colnames(df)=="â..have.you.personally.experienced.any.of.the.following.harassments.at.your.current.job.or.workplace.within.the.last.year...verbal.harassment.of.a.sexual.nature..unwanted.touching.or.physical.contact..cyber.harassment..including.unwanted.comments.or.photos.shared.via.email..social.media..or.text...unwelcome.sexual.advances.or.requests.for.sexual.favors..physical.acts.of.sexual.assault..homophobic.or.transphobic.comments.or.behavior..sexism.or.gender.based.discrimination..other.forms.of.sexual.harassment."]  <-"q3"
colnames(df)[colnames(df)=="have.you.witnessed.any.of.the.following.harassments.a.bystander.at.your.current.job.or.workplace.within.the.last.year...verbal.harassment.of.a.sexual.nature..unwanted.touching.or.physical.contact..cyber.harassment..including.unwanted.comments.or.photos.shared.via.email..social.media..or.text...unwelcome.sexual.advances.or.requests.for.sexual.favors..physical.acts.of.sexual.assault..homophobic.or.transphobic.comments.or.behavior..sexism.or.gender.based.discrimination..other.forms.of.sexual.harassment."]<-"q4"
colnames(df)[colnames(df)=="how.often.do.you.experience.or.witness.sexual.harassment.at.your.workplace."]  <-"q5"
colnames(df)[colnames(df)=="a.direct.supervisor.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q6"
colnames(df)[colnames(df)=="someone.in.a.more.senior.role.who.is.not.a.direct.supervisor.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q7"
colnames(df)[colnames(df)=="another.union.represented.employee.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q8"
colnames(df)[colnames(df)=="a.steward..representative..or.leader.of.my.union.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q9"
colnames(df)[colnames(df)=="a.contractor.hired.by.my.employer.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q10"
colnames(df)[colnames(df)=="a.more.junior.employee.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q11"
colnames(df)[colnames(df)=="a.customer.of.my.employer.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q12"
colnames(df)[colnames(df)=="other...write.in.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q13"
colnames(df)[colnames(df)=="exclusive...none.of.the.above.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q14"
colnames(dfh)[colnames(dfh)=="reported"]  <-"q15"
colnames(dfh)[colnames(dfh)=="yes..to.a.steward.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]<-"q16"
colnames(dfh)[colnames(dfh)=="yes..to.a.superior.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]  <-"q17"
colnames(dfh)[colnames(dfh)=="yes..to.human.resources.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]  <-"q18"
colnames(dfh)[colnames(dfh)=="no..but.i.told.a.coworker.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]  <-"q19"
colnames(dfh)[colnames(dfh)=="no..not.reported.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]  <-"q20"
colnames(dfh)[colnames(dfh)=="if.you.have.reported.an.incident.of.sexual.harassment..how.satisfied.were.you.with.the.outcome."]  <-"q21"
colnames(dfh)[colnames(dfh)=="didn.t.want.to.get.someone.in.trouble.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q22"
colnames(dfh)[colnames(dfh)=="unsure.how.to.report.the.incident.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q23"
colnames(dfh)[colnames(dfh)=="unsure.reporting.the.incident.would.help.or.be.taken.seriously.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q24"
colnames(dfh)[colnames(dfh)=="don.t.have.a.steward.or.i.m.not.sure.who.that.person.is.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q25"
colnames(dfh)[colnames(dfh)=="worried.about.retaliation.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q26"
colnames(dfh)[colnames(dfh)=="don.t.trust.my.steward.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q27"
colnames(dfh)[colnames(dfh)=="reported.to.human.resources.or.a.superior.instead.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q28"
colnames(dfh)[colnames(dfh)=="lack.of.support.from.co.workers.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q29"
colnames(dfh)[colnames(dfh)=="i.was.not.a.union.member.at.the.time.of.the.incident.s..if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q30"
colnames(dfh)[colnames(dfh)=="other...write.in.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q31"
colnames(dfh)[colnames(dfh)=="if.you.did.report.an.incident.of.sexual.harassment.to.a.representative.of.your.union..how.much.do.you.agree.that.the.union.helped.you.achieve.your.desired.outcome."]  <-"q32"
colnames(df)[colnames(df)=="in.which.industry.do.you.primarily.work."]  <-"q33"
colnames(df)[colnames(df)=="office.please.describe.your.work.location.â..check.all.that.apply."]  <-"q34"
colnames(df)[colnames(df)=="call.center.please.describe.your.work.location.â..check.all.that.apply."]  <-"q35"
colnames(df)[colnames(df)=="newsroom.please.describe.your.work.location.â..check.all.that.apply."]  <-"q36"
colnames(df)[colnames(df)=="retail.store.please.describe.your.work.location.â..check.all.that.apply."]  <-"q37"
colnames(df)[colnames(df)=="work.at.remote.sites.in.the.field.or.from.my.vehicle.please.describe.your.work.location.â..check.all.that.apply."]  <-"q38"
colnames(df)[colnames(df)=="based.from.my.home.please.describe.your.work.location.â..check.all.that.apply."]  <-"q39"
colnames(df)[colnames(df)=="airport.or.airplane.please.describe.your.work.location.â..check.all.that.apply."]  <-"q40"
colnames(df)[colnames(df)=="plant.or.manufacturing.site.please.describe.your.work.location.â..check.all.that.apply."]  <-"q41"
colnames(df)[colnames(df)=="other...write.in.please.describe.your.work.location.â..check.all.that.apply."]  <-"q42"
colnames(df)[colnames(df)=="do.you.visit.homes.of.customers.or.clients.on.the.job."]  <-"q43"
colnames(dfhome)[colnames(dfhome)=="if.yes..have.you.had.an.experience.in.the.last.year.where.you.feared.for.your.safety..been.touched.or.grabbed..experienced.unwanted.advances..harassed.verbally..or.experienced.another.form.of.sexual.harassment.in.a.customer.s.or.client.s.home."]  <-"q44"
colnames(dfhome)[colnames(dfhome)=="have.you.received.training.from.your.employer.on.protecting.yourself.from.difficult.or.inappropriate.situations.in.customer.s.or.client.s.homes."]  <-"q45"
colnames(df)[colnames(df)=="more.or.better.training.on.how.to.understand.the.existing.sexual.harassment.policy.and.reporting.procedure.at.your.workplace.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."]  <-"q46"
colnames(df)[colnames(df)=="bystander.training.on.how.to.intervene.as.a.witness.of.sexual.harassment.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."]  <-"q47"
colnames(df)[colnames(df)=="advocating.for.a.better.sexual.harassment.policy.at.your.workplace.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."]  <-"q48"
colnames(df)[colnames(df)=="assisting.and.supporting.victims.of.sexual.harassment.to.address.the.issue.and.achieve.a.desired.outcome.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."]  <-"q49"
colnames(df)[colnames(df)=="addressing.issues.of.sexual.harassment.within.your.local..which.could.include.creating.or.improving.a.sexual.harassment.policy.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."] <- "q50"
colnames(df)[colnames(df)=="in.which.industry.do.you.primarily.work."] <- "industry"
colnames(df)[colnames(df)== "what.is.your.annual.household.income."]<-"income"
colnames(df)[colnames(df)== "what.is.your.highest.level.of.education."] <- "education"
colnames(df)[colnames(df)== "racecat"] <- "race"
colnames(df)[colnames(df)== "sexcat"] <- "gender"
df$age <- NA
df[df$raw_age < 35,]$age <- "Less than 35"
df[df$raw_age >=35 & df$raw_age<45,]$age <- "35 - 44"
df[df$raw_age >=45 & df$raw_age <55,]$age <- "45 - 54"
df[df$raw_age >=55 & df$raw_age <65,]$age <- "55 - 64"
df[df$raw_age >=65,]$age <- "65+"
lrace <- list(q = 'race', lab = c("Black/African-American", "Hispanic/Latino", "White", "Other"), wgt = 'weights')
lage <- list(q = 'age', lab = c("Less than 35", "35 to 44", "45 to 54", "55 to 64", "65 +"), wgt = 'weights')
lgender <- list(q = 'gender', lab = c("Male", "Female"), wgt = 'weights')
lindustry <- list(q = 'industry', lab = c("Airlines","Education","Government/public service","Healthcare","Law enforcement","Manufacturing","Media","Retail","Telecom","Other - Write In"), wgt = 'weights')
leducation <- list(q = 'education', lab = c("Advanced degree (Master's, Ph.D., M.D.)"
,"Bachelor's degree"
,"Associate degree"
,"Some college, no degree"
,"Trade/technical school"
,"Graduated high school"
,"Less than high school"), wgt = 'weights')
lincome <- list(q = 'income', lab = "$150,000 or more"
,"$125,000 to $149,999"
,"$100,000 to $124,999"
,"$75,000 to $99,999"
,"$50,000 to $74,999"
,"$35,000 to $49,999"
,"$25,000 to $34,999"
,"Less than $25,000", wgt = 'weights')
levels(df$q2
)
colnames(df)[colnames(df)=="how.satisfied.are.you.with.the.sexual.harassment.policy.and.procedures.at.your.workplace."]  <- "q2"
levels(df$q2)
levels(df$q3)
levels(df$q4)
levels(df$q5)
l5 <- list(q = 'q5', lab = c("At least once per day","1 or more times per week","1 or more times per month","1 or more times per year","Less often than one time per year","Never","Unsure"), recode_na = "Refused"), wgt = 'weights')
l5 <- list(q = 'q5', lab = c("At least once per day","1 or more times per week","1 or more times per month","1 or more times per year","Less often than one time per year","Never","Unsure"), wgt = 'weights')
levels(df$q6)
l6 <- list(q = 'q6', lab = "A direct supervisor", wgt = 'weights')
l <- list()
for (i in list(l6)){
for (p in list(lgender, lrace, lage)){
z <- radtab(df[,i$q], df[,p$q], i$lab, p$lab, df[,i$wgt], i$q, p$q)
l <- c(l, z$knitr)
}
}
z
knitr::opts_chunk$set(echo = TRUE)
remove(list=objects())
gc()
setwd("C:/Users/acooper.CWA-UNION/Documents/Survey Research")
options( java.parameters = "-Xmx6g" )
options(scipen=999)
require(survey)
require(Hmisc)
require(plyr)
require(ggplot2)
require(sjPlot)
style <- list(css.table='font-family : Roboto', css.thead="border-top:1px solid; text-align:center; font-style:italic; font-weight:normal;"
, css.lasttablerow="border-bottom:1px solid;")
df <- read.csv('sh_july2018_weighted_final_v3_20180726.csv', header=T, na.strings = "")
dfh <- df[df$â..have.you.personally.experienced.any.of.the.following.harassments.at.your.current.job.or.workplace.within.the.last.year...verbal.harassment.of.a.sexual.nature..unwanted.touching.or.physical.contact..cyber.harassment..including.unwanted.comments.or.photos.shared.via.email..social.media..or.text...unwelcome.sexual.advances.or.requests.for.sexual.favors..physical.acts.of.sexual.assault..homophobic.or.transphobic.comments.or.behavior..sexism.or.gender.based.discrimination..other.forms.of.sexual.harassment.=="Yes",]
dfhome <- df[df$do.you.visit.homes.of.customers.or.clients.on.the.job.=="Yes" & !is.na(df$do.you.visit.homes.of.customers.or.clients.on.the.job.),]
weights <- df$weights
radtab <- function(v1, v2, lab1, lab2, weights, v1name, v2name){
t <- sjt.xtab(v1, v2, weight.by = weights, show.col.prc = T, show.obs = T, digits=1 ,
#title="YOLO SWAG XTABS"
tdcol.col = "000000", var.labels = c(v1name,v2name), value.labels = list(lab1, lab2)
, show.summary = FALSE
, CSS = style
, show.na = TRUE)
return(t)
}
l <- list()
for (i in list(l6)){
for (p in list(lgender, lrace, lage)){
z <- radtab(df[,i$q], df[,p$q], i$lab, p$lab, df[,i$wgt], i$q, p$q)
l <- c(l, z$knitr)
}
}
knitr::opts_chunk$set(echo = TRUE)
remove(list=objects())
gc()
setwd("C:/Users/acooper.CWA-UNION/Documents/Survey Research")
options( java.parameters = "-Xmx6g" )
options(scipen=999)
require(survey)
require(Hmisc)
require(plyr)
require(ggplot2)
require(sjPlot)
style <- list(css.table='font-family : Roboto', css.thead="border-top:1px solid; text-align:center; font-style:italic; font-weight:normal;"
, css.lasttablerow="border-bottom:1px solid;")
df <- read.csv('sh_july2018_weighted_final_v3_20180726.csv', header=T, na.strings = "")
dfh <- df[df$â..have.you.personally.experienced.any.of.the.following.harassments.at.your.current.job.or.workplace.within.the.last.year...verbal.harassment.of.a.sexual.nature..unwanted.touching.or.physical.contact..cyber.harassment..including.unwanted.comments.or.photos.shared.via.email..social.media..or.text...unwelcome.sexual.advances.or.requests.for.sexual.favors..physical.acts.of.sexual.assault..homophobic.or.transphobic.comments.or.behavior..sexism.or.gender.based.discrimination..other.forms.of.sexual.harassment.=="Yes",]
dfhome <- df[df$do.you.visit.homes.of.customers.or.clients.on.the.job.=="Yes" & !is.na(df$do.you.visit.homes.of.customers.or.clients.on.the.job.),]
weights <- df$weights
radtab <- function(v1, v2, lab1, lab2, weights, v1name, v2name){
t <- sjt.xtab(v1, v2, weight.by = weights, show.col.prc = T, show.obs = T, digits=1 ,
#title="YOLO SWAG XTABS"
tdcol.col = "000000", var.labels = c(v1name,v2name), value.labels = list(lab1, lab2)
, show.summary = FALSE
, CSS = style
, show.na = TRUE)
return(t)
}
colnames(df)[colnames(df)=="would.you.agree.or.disagree.that.sexual.harassment.is.an.issue.in.your.workplace."] <- "q1"
colnames(df)[colnames(df)=="how.satisfied.are.you.with.the.sexual.harassment.policy.and.procedures.at.your.workplace."]  <- "q2"
colnames(df)[colnames(df)=="â..have.you.personally.experienced.any.of.the.following.harassments.at.your.current.job.or.workplace.within.the.last.year...verbal.harassment.of.a.sexual.nature..unwanted.touching.or.physical.contact..cyber.harassment..including.unwanted.comments.or.photos.shared.via.email..social.media..or.text...unwelcome.sexual.advances.or.requests.for.sexual.favors..physical.acts.of.sexual.assault..homophobic.or.transphobic.comments.or.behavior..sexism.or.gender.based.discrimination..other.forms.of.sexual.harassment."]  <-"q3"
colnames(df)[colnames(df)=="have.you.witnessed.any.of.the.following.harassments.a.bystander.at.your.current.job.or.workplace.within.the.last.year...verbal.harassment.of.a.sexual.nature..unwanted.touching.or.physical.contact..cyber.harassment..including.unwanted.comments.or.photos.shared.via.email..social.media..or.text...unwelcome.sexual.advances.or.requests.for.sexual.favors..physical.acts.of.sexual.assault..homophobic.or.transphobic.comments.or.behavior..sexism.or.gender.based.discrimination..other.forms.of.sexual.harassment."]<-"q4"
colnames(df)[colnames(df)=="how.often.do.you.experience.or.witness.sexual.harassment.at.your.workplace."]  <-"q5"
colnames(df)[colnames(df)=="a.direct.supervisor.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q6"
colnames(df)[colnames(df)=="someone.in.a.more.senior.role.who.is.not.a.direct.supervisor.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q7"
colnames(df)[colnames(df)=="another.union.represented.employee.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q8"
colnames(df)[colnames(df)=="a.steward..representative..or.leader.of.my.union.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q9"
colnames(df)[colnames(df)=="a.contractor.hired.by.my.employer.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q10"
colnames(df)[colnames(df)=="a.more.junior.employee.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q11"
colnames(df)[colnames(df)=="a.customer.of.my.employer.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q12"
colnames(df)[colnames(df)=="other...write.in.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q13"
colnames(df)[colnames(df)=="exclusive...none.of.the.above.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q14"
colnames(dfh)[colnames(dfh)=="reported"]  <-"q15"
colnames(dfh)[colnames(dfh)=="yes..to.a.steward.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]<-"q16"
colnames(dfh)[colnames(dfh)=="yes..to.a.superior.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]  <-"q17"
colnames(dfh)[colnames(dfh)=="yes..to.human.resources.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]  <-"q18"
colnames(dfh)[colnames(dfh)=="no..but.i.told.a.coworker.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]  <-"q19"
colnames(dfh)[colnames(dfh)=="no..not.reported.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]  <-"q20"
colnames(dfh)[colnames(dfh)=="if.you.have.reported.an.incident.of.sexual.harassment..how.satisfied.were.you.with.the.outcome."]  <-"q21"
colnames(dfh)[colnames(dfh)=="didn.t.want.to.get.someone.in.trouble.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q22"
colnames(dfh)[colnames(dfh)=="unsure.how.to.report.the.incident.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q23"
colnames(dfh)[colnames(dfh)=="unsure.reporting.the.incident.would.help.or.be.taken.seriously.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q24"
colnames(dfh)[colnames(dfh)=="don.t.have.a.steward.or.i.m.not.sure.who.that.person.is.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q25"
colnames(dfh)[colnames(dfh)=="worried.about.retaliation.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q26"
colnames(dfh)[colnames(dfh)=="don.t.trust.my.steward.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q27"
colnames(dfh)[colnames(dfh)=="reported.to.human.resources.or.a.superior.instead.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q28"
colnames(dfh)[colnames(dfh)=="lack.of.support.from.co.workers.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q29"
colnames(dfh)[colnames(dfh)=="i.was.not.a.union.member.at.the.time.of.the.incident.s..if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q30"
colnames(dfh)[colnames(dfh)=="other...write.in.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q31"
colnames(dfh)[colnames(dfh)=="if.you.did.report.an.incident.of.sexual.harassment.to.a.representative.of.your.union..how.much.do.you.agree.that.the.union.helped.you.achieve.your.desired.outcome."]  <-"q32"
colnames(df)[colnames(df)=="in.which.industry.do.you.primarily.work."]  <-"q33"
colnames(df)[colnames(df)=="office.please.describe.your.work.location.â..check.all.that.apply."]  <-"q34"
colnames(df)[colnames(df)=="call.center.please.describe.your.work.location.â..check.all.that.apply."]  <-"q35"
colnames(df)[colnames(df)=="newsroom.please.describe.your.work.location.â..check.all.that.apply."]  <-"q36"
colnames(df)[colnames(df)=="retail.store.please.describe.your.work.location.â..check.all.that.apply."]  <-"q37"
colnames(df)[colnames(df)=="work.at.remote.sites.in.the.field.or.from.my.vehicle.please.describe.your.work.location.â..check.all.that.apply."]  <-"q38"
colnames(df)[colnames(df)=="based.from.my.home.please.describe.your.work.location.â..check.all.that.apply."]  <-"q39"
colnames(df)[colnames(df)=="airport.or.airplane.please.describe.your.work.location.â..check.all.that.apply."]  <-"q40"
colnames(df)[colnames(df)=="plant.or.manufacturing.site.please.describe.your.work.location.â..check.all.that.apply."]  <-"q41"
colnames(df)[colnames(df)=="other...write.in.please.describe.your.work.location.â..check.all.that.apply."]  <-"q42"
colnames(df)[colnames(df)=="do.you.visit.homes.of.customers.or.clients.on.the.job."]  <-"q43"
colnames(dfhome)[colnames(dfhome)=="if.yes..have.you.had.an.experience.in.the.last.year.where.you.feared.for.your.safety..been.touched.or.grabbed..experienced.unwanted.advances..harassed.verbally..or.experienced.another.form.of.sexual.harassment.in.a.customer.s.or.client.s.home."]  <-"q44"
colnames(dfhome)[colnames(dfhome)=="have.you.received.training.from.your.employer.on.protecting.yourself.from.difficult.or.inappropriate.situations.in.customer.s.or.client.s.homes."]  <-"q45"
colnames(df)[colnames(df)=="more.or.better.training.on.how.to.understand.the.existing.sexual.harassment.policy.and.reporting.procedure.at.your.workplace.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."]  <-"q46"
colnames(df)[colnames(df)=="bystander.training.on.how.to.intervene.as.a.witness.of.sexual.harassment.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."]  <-"q47"
colnames(df)[colnames(df)=="advocating.for.a.better.sexual.harassment.policy.at.your.workplace.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."]  <-"q48"
colnames(df)[colnames(df)=="assisting.and.supporting.victims.of.sexual.harassment.to.address.the.issue.and.achieve.a.desired.outcome.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."]  <-"q49"
colnames(df)[colnames(df)=="addressing.issues.of.sexual.harassment.within.your.local..which.could.include.creating.or.improving.a.sexual.harassment.policy.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."] <- "q50"
colnames(df)[colnames(df)=="in.which.industry.do.you.primarily.work."] <- "industry"
colnames(df)[colnames(df)== "what.is.your.annual.household.income."]<-"income"
colnames(df)[colnames(df)== "what.is.your.highest.level.of.education."] <- "education"
colnames(df)[colnames(df)== "racecat"] <- "race"
colnames(df)[colnames(df)== "sexcat"] <- "gender"
df$age <- NA
df[df$raw_age < 35,]$age <- "Less than 35"
df[df$raw_age >=35 & df$raw_age<45,]$age <- "35 - 44"
df[df$raw_age >=45 & df$raw_age <55,]$age <- "45 - 54"
df[df$raw_age >=55 & df$raw_age <65,]$age <- "55 - 64"
df[df$raw_age >=65,]$age <- "65+"
lrace <- list(q = 'race', lab = c("Black/African-American", "Hispanic/Latino", "White", "Other"), wgt = 'weights')
lage <- list(q = 'age', lab = c("Less than 35", "35 to 44", "45 to 54", "55 to 64", "65 +"), wgt = 'weights')
lgender <- list(q = 'gender', lab = c("Male", "Female"), wgt = 'weights')
lindustry <- list(q = 'industry', lab = c("Airlines","Education","Government/public service","Healthcare","Law enforcement","Manufacturing","Media","Retail","Telecom","Other - Write In"), wgt = 'weights')
leducation <- list(q = 'education', lab = c("Advanced degree (Master's, Ph.D., M.D.)"
,"Bachelor's degree"
,"Associate degree"
,"Some college, no degree"
,"Trade/technical school"
,"Graduated high school"
,"Less than high school"), wgt = 'weights')
lincome <- list(q = 'income', lab = "$150,000 or more"
,"$125,000 to $149,999"
,"$100,000 to $124,999"
,"$75,000 to $99,999"
,"$50,000 to $74,999"
,"$35,000 to $49,999"
,"$25,000 to $34,999"
,"Less than $25,000", wgt = 'weights')
l1 <- list(q = 'q1', lab = c("Strongly agree", "Agree", "Neutral", "Disagree", "Strongly disagree"), wgt = 'weights')
l2 <- list(q = 'q2', lab = c("Very Satisfied", "Satisfied", "Neutral", "Dissatisfied", "Very Dissatisfied","Unsure or unaware of any policies or procedures related to sexual harassment in my workplace"), wgt = 'weights')
l3 <- list(q = 'q3', lab = c("Yes", "No", "Unsure"), wgt = 'weights')
l4 <- list(q = 'q4', lab = c("Yes", "No", "Unsure"), wgt = 'weights')
l5 <- list(q = 'q5', lab = c("At least once per day","1 or more times per week","1 or more times per month","1 or more times per year","Less often than one time per year","Never","Unsure"), wgt = 'weights')
l6 <- list(q = 'q6', lab = "A direct supervisor", wgt = 'weights')
l <- list()
for (i in list(l1)){
for (p in list(lgender, lrace, lage)){
z <- radtab(df[,i$q], df[,p$q], i$lab, p$lab, df[,i$wgt], i$q, p$q)
l <- c(l, z$knitr)
}
}
l <- list()
for (i in list(l2)){
for (p in list(lgender, lrace, lage)){
z <- radtab(df[,i$q], df[,p$q], i$lab, p$lab, df[,i$wgt], i$q, p$q)
l <- c(l, z$knitr)
}
}
l <- list()
for (i in list(l3)){
for (p in list(lgender, lrace, lage)){
z <- radtab(df[,i$q], df[,p$q], i$lab, p$lab, df[,i$wgt], i$q, p$q)
l <- c(l, z$knitr)
}
}
l <- list()
for (i in list(l4)){
for (p in list(lgender, lrace, lage)){
z <- radtab(df[,i$q], df[,p$q], i$lab, p$lab, df[,i$wgt], i$q, p$q)
l <- c(l, z$knitr)
}
}
l <- list()
for (i in list(l5)){
for (p in list(lgender, lrace, lage)){
z <- radtab(df[,i$q], df[,p$q], i$lab, p$lab, df[,i$wgt], i$q, p$q)
l <- c(l, z$knitr)
}
}
l <- list()
for (i in list(l6)){
for (p in list(lgender, lrace, lage)){
z <- radtab(df[,i$q], df[,p$q], i$lab, p$lab, df[,i$wgt], i$q, p$q)
l <- c(l, z$knitr)
}
}
z
radtab <- function(v1, v2, lab1, lab2, weights, v1name, v2name){
t <- sjt.xtab(v1, v2, weight.by = weights, show.col.prc = T, show.obs = T, digits=1 ,
#title="YOLO SWAG XTABS"
tdcol.col = "000000", var.labels = c(v1name,v2name), value.labels = list(lab1, lab2)
, show.summary = FALSE
, CSS = style)
return(t)
}
l <- list()
for (i in list(l6)){
for (p in list(lgender, lrace, lage)){
z <- radtab(df[,i$q], df[,p$q], i$lab, p$lab, df[,i$wgt], i$q, p$q)
l <- c(l, z$knitr)
}
}
z
z <- radtab(df[,i$q], df[,p$q], i$lab, p$lab, df[,i$wgt], i$q, p$q, show.na = TRUE)
radtab <- function(v1, v2, lab1, lab2, weights, v1name, v2name){
t <- sjt.xtab(v1, v2, weight.by = weights, show.col.prc = T, show.obs = T, digits=1 ,
#title="YOLO SWAG XTABS"
tdcol.col = "000000", var.labels = c(v1name,v2name), value.labels = list(lab1, lab2)
, show.na = TRUE
, show.summary = FALSE
, CSS = style)
return(t)
}
l <- list()
for (i in list(l6)){
for (p in list(lgender, lrace, lage)){
z <- radtab(df[,i$q], df[,p$q], i$lab, p$lab, df[,i$wgt], i$q, p$q)
l <- c(l, z$knitr)
}
}
z
l6 <- list(q = 'q6', lab = c("A direct supervisor","NA"), wgt = 'weights')
l <- list()
for (i in list(l6)){
for (p in list(lgender, lrace, lage)){
z <- radtab(df[,i$q], df[,p$q], i$lab, p$lab, df[,i$wgt], i$q, p$q)
l <- c(l, z$knitr)
}
}
l6 <- list(q = 'q6', lab = c("A direct supervisor"), wgt = 'weights')
levels(df)
levels(df$q15)
levels(dfh$q15)
knitr::opts_chunk$set(echo = TRUE)
remove(list=objects())
gc()
setwd("C:/Users/acooper.CWA-UNION/Documents/Survey Research")
options( java.parameters = "-Xmx6g" )
options(scipen=999)
require(survey)
require(Hmisc)
require(plyr)
require(ggplot2)
require(sjPlot)
style <- list(css.table='font-family : Roboto', css.thead="border-top:1px solid; text-align:center; font-style:italic; font-weight:normal;"
, css.lasttablerow="border-bottom:1px solid;")
df <- read.csv('sh_survey_responses_final_xtab_20180730.csv', header=T, na.strings = "")
dfh <- df[df$â..have.you.personally.experienced.any.of.the.following.harassments.at.your.current.job.or.workplace.within.the.last.year...verbal.harassment.of.a.sexual.nature..unwanted.touching.or.physical.contact..cyber.harassment..including.unwanted.comments.or.photos.shared.via.email..social.media..or.text...unwelcome.sexual.advances.or.requests.for.sexual.favors..physical.acts.of.sexual.assault..homophobic.or.transphobic.comments.or.behavior..sexism.or.gender.based.discrimination..other.forms.of.sexual.harassment.=="Yes",]
dfhome <- df[df$do.you.visit.homes.of.customers.or.clients.on.the.job.=="Yes" & !is.na(df$do.you.visit.homes.of.customers.or.clients.on.the.job.),]
weights <- df$weights
radtab <- function(v1, v2, lab1, lab2, weights, v1name, v2name){
t <- sjt.xtab(v1, v2, weight.by = weights, show.col.prc = T, show.obs = T, digits=1 ,
#title="YOLO SWAG XTABS"
tdcol.col = "000000", var.labels = c(v1name,v2name), value.labels = list(lab1, lab2)
, show.na = TRUE
, show.summary = FALSE
, CSS = style)
return(t)
}
```{r echo=F}
colnames(df)[colnames(df)=="would.you.agree.or.disagree.that.sexual.harassment.is.an.issue.in.your.workplace."] <- "q1"
colnames(df)[colnames(df)=="how.satisfied.are.you.with.the.sexual.harassment.policy.and.procedures.at.your.workplace."]  <- "q2"
colnames(df)[colnames(df)=="â..have.you.personally.experienced.any.of.the.following.harassments.at.your.current.job.or.workplace.within.the.last.year...verbal.harassment.of.a.sexual.nature..unwanted.touching.or.physical.contact..cyber.harassment..including.unwanted.comments.or.photos.shared.via.email..social.media..or.text...unwelcome.sexual.advances.or.requests.for.sexual.favors..physical.acts.of.sexual.assault..homophobic.or.transphobic.comments.or.behavior..sexism.or.gender.based.discrimination..other.forms.of.sexual.harassment."]  <-"q3"
colnames(df)[colnames(df)=="have.you.witnessed.any.of.the.following.harassments.a.bystander.at.your.current.job.or.workplace.within.the.last.year...verbal.harassment.of.a.sexual.nature..unwanted.touching.or.physical.contact..cyber.harassment..including.unwanted.comments.or.photos.shared.via.email..social.media..or.text...unwelcome.sexual.advances.or.requests.for.sexual.favors..physical.acts.of.sexual.assault..homophobic.or.transphobic.comments.or.behavior..sexism.or.gender.based.discrimination..other.forms.of.sexual.harassment."]<-"q4"
colnames(df)[colnames(df)=="how.often.do.you.experience.or.witness.sexual.harassment.at.your.workplace."]  <-"q5"
colnames(df)[colnames(df)=="a.direct.supervisor.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q6"
colnames(df)[colnames(df)=="someone.in.a.more.senior.role.who.is.not.a.direct.supervisor.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q7"
colnames(df)[colnames(df)=="another.union.represented.employee.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q8"
colnames(df)[colnames(df)=="a.steward..representative..or.leader.of.my.union.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q9"
colnames(df)[colnames(df)=="a.contractor.hired.by.my.employer.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q10"
colnames(df)[colnames(df)=="a.more.junior.employee.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q11"
colnames(df)[colnames(df)=="a.customer.of.my.employer.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q12"
colnames(df)[colnames(df)=="other...write.in.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q13"
colnames(df)[colnames(df)=="exclusive...none.of.the.above.please.answer.whether.within.the.last.year.people.in.any.of.the.following.roles.have.ever.been.perpetrators.of.sexual.harassment.against.you.at.your.current.job..check.all.that.apply."]<-"q14"
colnames(dfh)[colnames(dfh)=="reported"]  <-"q15"
colnames(dfh)[colnames(dfh)=="yes..to.a.steward.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]<-"q16"
colnames(dfh)[colnames(dfh)=="yes..to.a.superior.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]  <-"q17"
colnames(dfh)[colnames(dfh)=="yes..to.human.resources.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]  <-"q18"
colnames(dfh)[colnames(dfh)=="no..but.i.told.a.coworker.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]  <-"q19"
colnames(dfh)[colnames(dfh)=="no..not.reported.if.you.have.experienced.any.form.of.sexual.harassment.in.the.workplace.within.the.last.year..was.the.issue.reported..check.all.that.apply."]  <-"q20"
colnames(dfh)[colnames(dfh)=="if.you.have.reported.an.incident.of.sexual.harassment..how.satisfied.were.you.with.the.outcome."]  <-"q21"
colnames(dfh)[colnames(dfh)=="didn.t.want.to.get.someone.in.trouble.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q22"
colnames(dfh)[colnames(dfh)=="unsure.how.to.report.the.incident.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q23"
colnames(dfh)[colnames(dfh)=="unsure.reporting.the.incident.would.help.or.be.taken.seriously.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q24"
colnames(dfh)[colnames(dfh)=="don.t.have.a.steward.or.i.m.not.sure.who.that.person.is.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q25"
colnames(dfh)[colnames(dfh)=="worried.about.retaliation.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q26"
colnames(dfh)[colnames(dfh)=="don.t.trust.my.steward.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q27"
colnames(dfh)[colnames(dfh)=="reported.to.human.resources.or.a.superior.instead.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q28"
colnames(dfh)[colnames(dfh)=="lack.of.support.from.co.workers.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q29"
colnames(dfh)[colnames(dfh)=="i.was.not.a.union.member.at.the.time.of.the.incident.s..if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q30"
colnames(dfh)[colnames(dfh)=="other...write.in.if.you.did.not.report.to.your.union.steward.or.representative..why.not..check.all.that.apply."]  <-"q31"
colnames(dfh)[colnames(dfh)=="if.you.did.report.an.incident.of.sexual.harassment.to.a.representative.of.your.union..how.much.do.you.agree.that.the.union.helped.you.achieve.your.desired.outcome."]  <-"q32"
colnames(df)[colnames(df)=="in.which.industry.do.you.primarily.work."]  <-"q33"
colnames(df)[colnames(df)=="office.please.describe.your.work.location.â..check.all.that.apply."]  <-"q34"
colnames(df)[colnames(df)=="call.center.please.describe.your.work.location.â..check.all.that.apply."]  <-"q35"
colnames(df)[colnames(df)=="newsroom.please.describe.your.work.location.â..check.all.that.apply."]  <-"q36"
colnames(df)[colnames(df)=="retail.store.please.describe.your.work.location.â..check.all.that.apply."]  <-"q37"
colnames(df)[colnames(df)=="work.at.remote.sites.in.the.field.or.from.my.vehicle.please.describe.your.work.location.â..check.all.that.apply."]  <-"q38"
colnames(df)[colnames(df)=="based.from.my.home.please.describe.your.work.location.â..check.all.that.apply."]  <-"q39"
colnames(df)[colnames(df)=="airport.or.airplane.please.describe.your.work.location.â..check.all.that.apply."]  <-"q40"
colnames(df)[colnames(df)=="plant.or.manufacturing.site.please.describe.your.work.location.â..check.all.that.apply."]  <-"q41"
colnames(df)[colnames(df)=="other...write.in.please.describe.your.work.location.â..check.all.that.apply."]  <-"q42"
colnames(df)[colnames(df)=="do.you.visit.homes.of.customers.or.clients.on.the.job."]  <-"q43"
colnames(dfhome)[colnames(dfhome)=="if.yes..have.you.had.an.experience.in.the.last.year.where.you.feared.for.your.safety..been.touched.or.grabbed..experienced.unwanted.advances..harassed.verbally..or.experienced.another.form.of.sexual.harassment.in.a.customer.s.or.client.s.home."]  <-"q44"
colnames(dfhome)[colnames(dfhome)=="have.you.received.training.from.your.employer.on.protecting.yourself.from.difficult.or.inappropriate.situations.in.customer.s.or.client.s.homes."]  <-"q45"
colnames(df)[colnames(df)=="more.or.better.training.on.how.to.understand.the.existing.sexual.harassment.policy.and.reporting.procedure.at.your.workplace.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."]  <-"q46"
colnames(df)[colnames(df)=="bystander.training.on.how.to.intervene.as.a.witness.of.sexual.harassment.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."]  <-"q47"
colnames(df)[colnames(df)=="advocating.for.a.better.sexual.harassment.policy.at.your.workplace.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."]  <-"q48"
colnames(df)[colnames(df)=="assisting.and.supporting.victims.of.sexual.harassment.to.address.the.issue.and.achieve.a.desired.outcome.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."]  <-"q49"
colnames(df)[colnames(df)=="addressing.issues.of.sexual.harassment.within.your.local..which.could.include.creating.or.improving.a.sexual.harassment.policy.how.interested.would.you.be.in.the.following.actions.from.your.union.to.address.sexual.harassment.in.the.workplace."] <- "q50"
colnames(df)[colnames(df)=="in.which.industry.do.you.primarily.work."] <- "industry"
colnames(df)[colnames(df)== "what.is.your.annual.household.income."]<-"income"
colnames(df)[colnames(df)== "what.is.your.highest.level.of.education."] <- "education"
colnames(df)[colnames(df)== "racecat"] <- "race"
colnames(df)[colnames(df)== "sexcat"] <- "gender"
df$age <- NA
df[df$raw_age < 35,]$age <- "Less than 35"
df[df$raw_age >=35 & df$raw_age<45,]$age <- "35 - 44"
df[df$raw_age >=45 & df$raw_age <55,]$age <- "45 - 54"
df[df$raw_age >=55 & df$raw_age <65,]$age <- "55 - 64"
df[df$raw_age >=65,]$age <- "65+"
lrace <- list(q = 'race', lab = c("Black/African-American", "Hispanic/Latino", "White", "Other"), wgt = 'weights')
lage <- list(q = 'age', lab = c("Less than 35", "35 to 44", "45 to 54", "55 to 64", "65 +"), wgt = 'weights')
lgender <- list(q = 'gender', lab = c("Male", "Female"), wgt = 'weights')
lindustry <- list(q = 'industry', lab = c("Airlines","Education","Government/public service","Healthcare","Law enforcement","Manufacturing","Media","Retail","Telecom","Other - Write In"), wgt = 'weights')
levels(df$q6)
levels(df$q7)
levels(df$q8)
levels(df$q9)
levels(df$q10)
levels(df$q11
)
levels(df$q12)
levels(df$q13)
levels(df$q14)
levels(df$q15)
levels(dfh$q15)
levels(dfh$q16)
levels(dfh$q18)
levels(dfh$q19)
levels(dfh$q20)
View(lrace)
View(lrace)
